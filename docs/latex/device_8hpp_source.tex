\doxysection{device.\+hpp}
\hypertarget{device_8hpp_source}{}\label{device_8hpp_source}\index{device.hpp@{device.hpp}}
\mbox{\hyperlink{device_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <vulkan/vulkan.h>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{window_8hpp}{../window/window.hpp}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <vulkan/vulkan.h>}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{comment}{//\ std\ lib\ headers}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_blocky_vulkan}{BlockyVulkan}}\ \{}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details}{SwapChainSupportDetails}}\ \{}
\DoxyCodeLine{00014\ \ \ \ \ VkSurfaceCapabilitiesKHR\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details_aa1a932872e671b491887ab593174050e}{capabilities}};}
\DoxyCodeLine{00015\ \ \ \ \ std::vector<VkSurfaceFormatKHR>\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details_a77a80a3f974c0f4a2c18fad136c610c8}{formats}};}
\DoxyCodeLine{00016\ \ \ \ \ std::vector<VkPresentModeKHR>\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details_a1e924955c92c4cab575a0c99e451b738}{presentModes}};}
\DoxyCodeLine{00017\ \};}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices}{QueueFamilyIndices}}\ \{}
\DoxyCodeLine{00020\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_ad996d82f217e66c2e71f7d2801f8cea8}{graphicsFamily}};}
\DoxyCodeLine{00021\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_a72cb4002bc4ee8cb4ad32fc2b270de7a}{presentFamily}};}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_ad4e47c84fb624fa1c970acaa0a65a696}{graphicsFamilyHasValue}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_a2f3bfaefad9e8338ed09a44187c0b5ef}{presentFamilyHasValue}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_abeeef83fb1917526d8d713085744b6b9}{isComplete}}()\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_ad4e47c84fb624fa1c970acaa0a65a696}{graphicsFamilyHasValue}}\ \&\&\ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices_a2f3bfaefad9e8338ed09a44187c0b5ef}{presentFamilyHasValue}};}
\DoxyCodeLine{00026\ \ \ \ \ \}}
\DoxyCodeLine{00027\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \{}
\DoxyCodeLine{00030\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#ifdef\ NDEBUG}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a6cb8cbe6257df6c3a3a5a1bfbd67d1e6}{enableValidationLayers}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a6cb8cbe6257df6c3a3a5a1bfbd67d1e6}{enableValidationLayers}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a855af26281a51ebe1946e66fb1ed181a}{Device}}(\mbox{\hyperlink{class_blocky_vulkan_1_1_window}{Window}}\ \&window);}
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_af4d1bbf15ca45ebc0df540f447701c35}{\string~Device}}();}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{comment}{//\ Not\ copyable\ or\ movable}}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a50713128568f269bcdbf595e0852dd67}{Device}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a6151eb20159fc8cf528a40f788634d5d}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a7e807401ded0492da7a9242bebceaf72}{Device}}(\mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&\mbox{\hyperlink{class_blocky_vulkan_1_1_device_a190e484949079a7bc1b89e233eb24836}{operator=}}(\mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \ \ \ \ VkCommandPool\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a406e7e7a3c33c969cfe9b1d8165270f5}{getCommandPool}}()\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ commandPool;}
\DoxyCodeLine{00048\ \ \ \ \ \}}
\DoxyCodeLine{00049\ \ \ \ \ VkDevice\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_abd0f1af74c6907d4354112e1291db9aa}{device}}()\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ device\_;}
\DoxyCodeLine{00051\ \ \ \ \ \}}
\DoxyCodeLine{00052\ \ \ \ \ VkSurfaceKHR\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a5f068bfa59fef43e83ea22f64390f3cd}{surface}}()\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ surface\_;}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ \ \ \ \ VkQueue\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a4a40e0cccdd4c1b3dd840fe8e2a1b9c9}{graphicsQueue}}()\ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ graphicsQueue\_;}
\DoxyCodeLine{00057\ \ \ \ \ \}}
\DoxyCodeLine{00058\ \ \ \ \ VkQueue\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a522545cf12e6a3e11522c60d751d6833}{presentQueue}}()\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ presentQueue\_;}
\DoxyCodeLine{00060\ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details}{SwapChainSupportDetails}}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a3157d2aea16af098ce0cd890188d5b38}{getSwapChainSupport}}()\ \{}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ querySwapChainSupport(physicalDevice);}
\DoxyCodeLine{00064\ \ \ \ \ \}}
\DoxyCodeLine{00065\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_ad617fcdea6a8baf996e01daf07e2ea81}{findMemoryType}}(uint32\_t\ typeFilter,\ VkMemoryPropertyFlags\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_aa21b177cd0be90aec7ecb0179fd7e734}{properties}});}
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices}{QueueFamilyIndices}}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_ad3ddfd3647179abd6d940be294e790c8}{findPhysicalQueueFamilies}}()\ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ findQueueFamilies(physicalDevice);}
\DoxyCodeLine{00068\ \ \ \ \ \}}
\DoxyCodeLine{00069\ \ \ \ \ VkFormat\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a4d650743baa310cfab8703488586d27c}{findSupportedFormat}}(}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<VkFormat>\ \&candidates,\ VkImageTiling\ tiling,\ VkFormatFeatureFlags\ features);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{comment}{//\ Buffer\ Helper\ Functions}}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a4de673bdd57fa7f666ed13785178ef64}{createBuffer}}(}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ VkDeviceSize\ size,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ VkBufferUsageFlags\ usage,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ VkMemoryPropertyFlags\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_aa21b177cd0be90aec7ecb0179fd7e734}{properties}},}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ VkBuffer\ \&buffer,}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ VkDeviceMemory\ \&bufferMemory);}
\DoxyCodeLine{00079\ \ \ \ \ VkCommandBuffer\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a8baa78622c491d96d97538c45e838853}{beginSingleTimeCommands}}();}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a31bf87be17d10e28137b9245afbe2db5}{endSingleTimeCommands}}(VkCommandBuffer\ commandBuffer);}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_a82e77bebd10b053b0e6aebf5eda4ccd5}{copyBuffer}}(VkBuffer\ srcBuffer,\ VkBuffer\ dstBuffer,\ VkDeviceSize\ size);}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_ae1628156841c3c8d2ff49b85cec4efc6}{copyBufferToImage}}(}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ VkBuffer\ buffer,\ VkImage\ image,\ uint32\_t\ width,\ uint32\_t\ height,\ uint32\_t\ layerCount);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_aacb612b684d04f19342f6537d207fb15}{createImageWithInfo}}(}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ VkImageCreateInfo\ \&imageInfo,}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ VkMemoryPropertyFlags\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_aa21b177cd0be90aec7ecb0179fd7e734}{properties}},}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ VkImage\ \&image,}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ VkDeviceMemory\ \&imageMemory);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ VkPhysicalDeviceProperties\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_aa21b177cd0be90aec7ecb0179fd7e734}{properties}};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ createInstance();}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{void}\ setupDebugMessenger();}
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keywordtype}{void}\ createSurface();}
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keywordtype}{void}\ pickPhysicalDevice();}
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordtype}{void}\ createLogicalDevice();}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ createCommandPool();}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{comment}{//\ helper\ functions}}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ isDeviceSuitable(VkPhysicalDevice\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_abd0f1af74c6907d4354112e1291db9aa}{device}});}
\DoxyCodeLine{00103\ \ \ \ \ std::vector<const\ char\ *>\ getRequiredExtensions();}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{bool}\ checkValidationLayerSupport();}
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{struct_blocky_vulkan_1_1_queue_family_indices}{QueueFamilyIndices}}\ findQueueFamilies(VkPhysicalDevice\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_abd0f1af74c6907d4354112e1291db9aa}{device}});}
\DoxyCodeLine{00106\ \ \ \ \ \textcolor{keywordtype}{void}\ populateDebugMessengerCreateInfo(VkDebugUtilsMessengerCreateInfoEXT\ \&createInfo);}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{void}\ hasGflwRequiredInstanceExtensions();}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{bool}\ checkDeviceExtensionSupport(VkPhysicalDevice\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_abd0f1af74c6907d4354112e1291db9aa}{device}});}
\DoxyCodeLine{00109\ \ \ \ \ \mbox{\hyperlink{struct_blocky_vulkan_1_1_swap_chain_support_details}{SwapChainSupportDetails}}\ querySwapChainSupport(VkPhysicalDevice\ \mbox{\hyperlink{class_blocky_vulkan_1_1_device_abd0f1af74c6907d4354112e1291db9aa}{device}});}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \ \ VkInstance\ instance;}
\DoxyCodeLine{00112\ \ \ \ \ VkDebugUtilsMessengerEXT\ debugMessenger;}
\DoxyCodeLine{00113\ \ \ \ \ VkPhysicalDevice\ physicalDevice\ =\ VK\_NULL\_HANDLE;}
\DoxyCodeLine{00114\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_window}{Window}}\ \&window;}
\DoxyCodeLine{00115\ \ \ \ \ VkCommandPool\ commandPool;}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \ \ VkDevice\ device\_;}
\DoxyCodeLine{00118\ \ \ \ \ VkSurfaceKHR\ surface\_;}
\DoxyCodeLine{00119\ \ \ \ \ VkQueue\ graphicsQueue\_;}
\DoxyCodeLine{00120\ \ \ \ \ VkQueue\ presentQueue\_;}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<const\ char\ *>\ validationLayers\ =\ \{\textcolor{stringliteral}{"{}VK\_LAYER\_KHRONOS\_validation"{}}\};}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<const\ char\ *>\ deviceExtensions\ =\ \{VK\_KHR\_SWAPCHAIN\_EXTENSION\_NAME\};}
\DoxyCodeLine{00124\ \};}
\DoxyCodeLine{00125\ }
\DoxyCodeLine{00126\ \}\ \ \textcolor{comment}{//\ namespace\ BlockyVulkan}}

\end{DoxyCode}
