\doxysection{window.\+cpp}
\label{window_8cpp_source}\index{src/window/window.cpp@{src/window/window.cpp}}
\textbf{ Go to the documentation of this file.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#include\ "{}window.hpp"{}}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <stdexcept>}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{keyword}{namespace\ }BlockyVulkan\ \{}
\DoxyCodeLine{00005\ Window::Window(\textcolor{keywordtype}{int}\ w,\ \textcolor{keywordtype}{int}\ h,\ std::string\ name)}
\DoxyCodeLine{00006\ \ \ \ \ :\ width\{w\},\ height\{h\},\ name\{name\}\ \{}
\DoxyCodeLine{00007\ \ \ \ \ InitWindow();}
\DoxyCodeLine{00008\ \}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ Window::\string~Window()\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \`{}\ \ \ \textcolor{keywordflow}{if}\ (window)\ glfwDestroyWindow(window);}
\DoxyCodeLine{00012\ \ \ \ \ glfwTerminate();}
\DoxyCodeLine{00013\ \}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keywordtype}{void}\ Window::InitWindow()\ \{}
\DoxyCodeLine{00016\ \ \ \ \ glfwInit();}
\DoxyCodeLine{00017\ \ \ \ \ glfwWindowHint(GLFW\_CLIENT\_API,\ GLFW\_NO\_API);}
\DoxyCodeLine{00018\ \ \ \ \ glfwWindowHint(GLFW\_RESIZABLE,\ GLFW\_TRUE);}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ window\ =\ glfwCreateWindow(width,\ height,\ name.c\_str(),\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00021\ \ \ \ \ glfwSetWindowUserPointer(\ window,\ \textcolor{keyword}{this}\ );}
\DoxyCodeLine{00022\ \ \ \ \ glfwSetFramebufferSizeCallback(\ window,\ FrameBufferResizeCallback\ );}
\DoxyCodeLine{00023\ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{keywordtype}{void}\ Window::CreateWindowSurface(VkInstance\ instance,\ VkSurfaceKHR\ *surface)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keywordflow}{if}(\ glfwCreateWindowSurface(\ instance,\ window,\ \textcolor{keyword}{nullptr},\ surface\ )\ !=\ VK\_SUCCESS\ )\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ std::runtime\_error(\ \textcolor{stringliteral}{"{}Failed\ to\ create\ window\ surface!"{}}\ );}
\DoxyCodeLine{00028\ \ \ \ \ \}}
\DoxyCodeLine{00029\ \}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{keywordtype}{void}\ Window::FrameBufferResizeCallback(\ GLFWwindow\ *window,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height\ )\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{auto}\ window\_\_\ =\ \textcolor{keyword}{reinterpret\_cast<}Window\ *\textcolor{keyword}{>}(\ glfwGetWindowUserPointer(\ window\ )\ );}
\DoxyCodeLine{00033\ \ \ \ \ window\_\_-\/>frameBufferResized\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00034\ \ \ \ \ window\_\_-\/>width\ =\ width;}
\DoxyCodeLine{00035\ \ \ \ \ window\_\_-\/>height\ =\ height;}
\DoxyCodeLine{00036\ \}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \}}

\end{DoxyCode}
