\doxysection{swap\+\_\+chain.\+hpp}
\hypertarget{swap__chain_8hpp_source}{}\label{swap__chain_8hpp_source}\index{swap\_chain.hpp@{swap\_chain.hpp}}
\mbox{\hyperlink{swap__chain_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{device_8hpp}{../device/device.hpp}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{comment}{//\ vulkan\ headers}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <vulkan/vulkan.h>}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{comment}{//\ std\ lib\ headers}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_blocky_vulkan}{BlockyVulkan}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain}{SwapChain}}\ \{}
\DoxyCodeLine{00016\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a82288aecf69bcdcc0e2c0d6e525709f9}{MAX\_FRAMES\_IN\_FLIGHT}}\ =\ 2;}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a28ffd9fc853641200b7d22a82d4b6678}{SwapChain}}(\mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&deviceRef,\ VkExtent2D\ windowExtent);}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a28ffd9fc853641200b7d22a82d4b6678}{SwapChain}}(\mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&deviceRef,\ VkExtent2D\ windowExtent,}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::shared\_ptr<SwapChain>\ previous);}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a15d6d8b52a7997bdd27be2d22a35c9a5}{\string~SwapChain}}();}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_acdd09c6dc0557d6b8889d360bfe169b6}{SwapChain}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain}{SwapChain}}\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain}{SwapChain}}\ \&\mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a432f19b5581e7a6b21863ccab37b4b64}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain}{SwapChain}}\ \&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ VkFramebuffer\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_af2d854fd02a8a6afc18e9e9f331402e1}{getFrameBuffer}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainFramebuffers[index];}
\DoxyCodeLine{00029\ \ \ \ \ \}}
\DoxyCodeLine{00030\ \ \ \ \ VkRenderPass\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a067c98a8ea8b9573afa58ec31b61070b}{getRenderPass}}()\ \{}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ renderPass;}
\DoxyCodeLine{00032\ \ \ \ \ \}}
\DoxyCodeLine{00033\ \ \ \ \ VkImageView\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a6d60b10858f53aa36103cb8ffdce5a89}{getImageView}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainImageViews[index];}
\DoxyCodeLine{00035\ \ \ \ \ \}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a65bf2dc77700ab941caec9ab15d82afa}{imageCount}}()\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainImages.size();}
\DoxyCodeLine{00038\ \ \ \ \ \}}
\DoxyCodeLine{00039\ \ \ \ \ VkFormat\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a5bdf6b58fbb9b4ece8d2836e44c7bda2}{getSwapChainImageFormat}}()\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainImageFormat;}
\DoxyCodeLine{00041\ \ \ \ \ \}}
\DoxyCodeLine{00042\ \ \ \ \ VkExtent2D\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_adc6458afc40ffae71d6ebe6b23f1d829}{getSwapChainExtent}}()\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainExtent;}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a7734e42d1b5b2e7de41256950ffdd760}{width}}()\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainExtent.width;}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ \ \ \ \ uint32\_t\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_ad564ff4a410422918416004cbfb29e07}{height}}()\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ swapChainExtent.height;}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_aadd7e49801d654de56c68d9bec6aacfb}{extentAspectRatio}}()\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(swapChainExtent.width)\ /}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{float}\textcolor{keyword}{>}(swapChainExtent.height);}
\DoxyCodeLine{00055\ \ \ \ \ \}}
\DoxyCodeLine{00056\ \ \ \ \ VkFormat\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a032370066d55a3da18dfcb8ff25bd634}{findDepthFormat}}();}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ VkResult\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a649d6c6cca871c742e5b7fa90f0cb50e}{acquireNextImage}}(uint32\_t\ *imageIndex);}
\DoxyCodeLine{00059\ \ \ \ \ VkResult\ \mbox{\hyperlink{class_blocky_vulkan_1_1_swap_chain_a78bbedddd61a8befbe772baf46f2bc9b}{submitCommandBuffers}}(\textcolor{keyword}{const}\ VkCommandBuffer\ *buffers,}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uint32\_t\ *imageIndex);}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{void}\ Init();}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordtype}{void}\ createSwapChain();}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ createImageViews();}
\DoxyCodeLine{00066\ \ \ \ \ \textcolor{keywordtype}{void}\ createDepthResources();}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordtype}{void}\ createRenderPass();}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keywordtype}{void}\ createFramebuffers();}
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keywordtype}{void}\ createSyncObjects();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{comment}{//\ Helper\ functions}}
\DoxyCodeLine{00072\ \ \ \ \ VkSurfaceFormatKHR\ chooseSwapSurfaceFormat(}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<VkSurfaceFormatKHR>\ \&availableFormats);}
\DoxyCodeLine{00074\ \ \ \ \ VkPresentModeKHR\ chooseSwapPresentMode(}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::vector<VkPresentModeKHR>\ \&availablePresentModes);}
\DoxyCodeLine{00076\ \ \ \ \ VkExtent2D\ chooseSwapExtent(\textcolor{keyword}{const}\ VkSurfaceCapabilitiesKHR\ \&capabilities);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ VkFormat\ swapChainImageFormat;}
\DoxyCodeLine{00079\ \ \ \ \ VkExtent2D\ swapChainExtent;}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ std::vector<VkFramebuffer>\ swapChainFramebuffers;}
\DoxyCodeLine{00082\ \ \ \ \ VkRenderPass\ renderPass;}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ std::vector<VkImage>\ depthImages;}
\DoxyCodeLine{00085\ \ \ \ \ std::vector<VkDeviceMemory>\ depthImageMemorys;}
\DoxyCodeLine{00086\ \ \ \ \ std::vector<VkImageView>\ depthImageViews;}
\DoxyCodeLine{00087\ \ \ \ \ std::vector<VkImage>\ swapChainImages;}
\DoxyCodeLine{00088\ \ \ \ \ std::vector<VkImageView>\ swapChainImageViews;}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{class_blocky_vulkan_1_1_device}{Device}}\ \&device;}
\DoxyCodeLine{00091\ \ \ \ \ VkExtent2D\ windowExtent;}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ VkSwapchainKHR\ swapChain;}
\DoxyCodeLine{00094\ \ \ \ \ std::shared\_ptr<SwapChain>\ oldSwapChain;}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ std::vector<VkSemaphore>\ imageAvailableSemaphores;}
\DoxyCodeLine{00097\ \ \ \ \ std::vector<VkSemaphore>\ renderFinishedSemaphores;}
\DoxyCodeLine{00098\ \ \ \ \ std::vector<VkFence>\ inFlightFences;}
\DoxyCodeLine{00099\ \ \ \ \ std::vector<VkFence>\ imagesInFlight;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ currentFrame\ =\ 0;}
\DoxyCodeLine{00101\ \};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \}\ \ \textcolor{comment}{//\ namespace\ BlockyVulkan}}

\end{DoxyCode}
